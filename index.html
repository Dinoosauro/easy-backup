<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <title>EasyBackup</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" type="image/x-icon" href="./assets/icon.png">
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;700&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="./manifest.json" />
    <link rel="apple-touch-icon" href="./assets/icon.png" />
    <meta name="apple-mobile-web-app-status-bar" content="#151515" />
    <meta name="theme-color" content="#884c3a" />
</head>

<body>
    <div style="display: flex; align-items: center;">
        <img id="logo" src="./assets/icon.svg" width="72" height="72">
        <h1 style="margin-left: 10px;">EasyBackup</h1>
    </div>
    <i>Copy all the files in a folder to another drive, using the File System API</i><br><br>
    <div class="container" id="notSupported"
        style="background-color: var(--accent); margin-bottom: 30px; display: none;">
        <h2>Your browser isn't supported ðŸ« </h2>
        <label>To use this tool, your browser must support the <a target="_blank"
                href="https://developer.mozilla.org/en-US/docs/Web/API/File_System_API#browser_compatibility">File
                System API</a> and the <a target="_blank"
                href="https://developer.mozilla.org/en-US/docs/Web/API/window/showDirectoryPicker#browser_compatibility">showDirectoryPicker
                function.</a>
            Please switch to a supported browser to continue.</label>
    </div>
    <div id="firstStep" class="opacity">
        <div class="container">
            <h2 style="margin-top: 0px;">Options:</h2>
            <label for="overwrite">When founding duplicates:</label><select id="overwrite">
                <option value="skip">Skip them</option>
                <option value="overwrite">Overwrite them</option>
                <option value="ask" selected>Ask</option>
            </select><br><br>
            <label for="endPath">Copy files that end with:</label><input style="width: 270px;" id="endPath" type="text"
                placeholder="Leave this field blank to copy everything"><br><br>
            <label for="bytes">Show data size in</label><select id="bytes">
                <option value="b">Byte(s)</option>
                <option value="kb">Kilobyte(s)</option>
                <option value="mb" selected>Megabyte(s)</option>
                <option value="gb">Gigabyte(s)</option>
                <option value="tb">Terabyte(s)</option>
            </select><label style="margin-left: 10px;">and show</label><input type="number" id="decimal"
                style="width: 40px;" min="0" max="20" value="2"><label style="margin-left: 10px;">decimal
                values</label><br><br>
            <label for="changeColor">After resolving duplicate issues:</label><select id="changeColor">
                <option value="change">Change the color to the classic table</option>
                <option value="keep">Keep the warning color</option>
            </select>

        </div><br><br>
        <div class="container">
            <h2 style="margin-top: 0px;">Select folders:</h2>
            <button style="opacity: 1;" id="inputFolder">Choose the folder to copy</button>
            <button style="opacity: 0; display: none;" id="outputFolder">Choose the folder where the files will be
                copied</button>
        </div>
    </div>
    <div id="secondStep" class="opacity" style="opacity: 0; display: none;">
        <h2>Operation: <span id="mainOperationWrite">Copying file <span id="fileName">Starting...</span></span></h2>
        <progress id="progress"></progress>
        <br><br>
        <div class="container opacity" style="background-color: var(--accent);" id="fileTip">
            <h4 style="display: inline;">Tip: </h4><label>Click on the link under the "File name"
                column to download the file that'll be copied.
                If there are duplicates, the "Last edit" column permits you to download both files.</label><br><br>
            <button style="background-color: var(--second);" id="noShowTip">Don't show again</button>
        </div>
        <br><br>
        <div style="overflow: auto;">
            <table style="width: 100%; border-collapse: separate; border-spacing: 4px;">
                <tbody id="addFiles">
                    <tr>
                        <th>File name:</th>
                        <th>Last edit:</th>
                        <th>Size:</th>
                        <th>Action:</th>
                    </tr>
                </tbody>
            </table>
        </div>
    </div><br><br>
    <a id="changeTheme">Change theme</a><a target="_blank" href="https://github.com/Dinoosauro/easy-backup"
        style="margin-left: 10px;">View on GitHub</a><br><br>
    <i style="font-size: small;">I don't claim any responsibilities for the actions made by this tool. Icon made by Bing
        Image Creator (DALL-E
        3)</i>
    <script src="./script.js"></script>
</body>